import{h as A,N as S}from"./style-f384abad.js";import{_ as C,o as d,c as r,a as t,t as a,n as c,b as k,r as g,d as f,F as U,e as V,w as u,v,f as m,g as B,h as D,T as L,i as w}from"./index-6c48d27a.js";import{_ as p}from"./lodash-7c8c6caf.js";const $={name:"CardBalanced",props:{play:Object,labelA:String,labelB:String,labelC:String},computed:{roi(){const{stakeA:e,stakeB:s,stakeC:l}=this.play,h=e+s+l;return this.play.profitA/h*100}},mixins:[A]},N={class:"util flex"},M=t("svg",{xmlns:"http://www.w3.org/2000/svg",width:"14",viewBox:"0 0 384 512"},[t("path",{fill:"currentColor",d:"M369.83 97.98L285.94 14.1c-9-9-21.2-14.1-33.89-14.1H47.99C21.5.1 0 21.6 0 48.09v415.92C0 490.5 21.5 512 47.99 512h287.94c26.5 0 48.07-21.5 48.07-47.99V131.97c0-12.69-5.17-24.99-14.17-33.99zM255.95 51.99l76.09 76.08h-76.09V51.99zM336 464.01H47.99V48.09h159.97v103.98c0 13.3 10.7 23.99 24 23.99H336v287.95zM224 264v20.8c0 35.48 12.88 68.89 36.28 94.09 3.02 3.25 7.27 5.11 11.72 5.11s8.7-1.86 11.72-5.11c23.41-25.2 36.28-58.61 36.28-94.09V264c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v20.8c0 20.27-5.7 40.17-16 56.88-10.3-16.7-16-36.61-16-56.88V264c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8zm-104-8h-8c-26.51 0-48 21.49-48 48v32c0 26.51 21.49 48 48 48h8c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8h-8c-8.84 0-16-7.16-16-16v-32c0-8.84 7.16-16 16-16h8c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zm59.45 42.47c-1.38-1.19-2.12-2.55-2.12-3.84 0-3.12 4.45-6.62 10.41-6.62H200c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8h-12.27c-23.39 0-42.41 17.33-42.41 38.62 0 10.66 4.86 20.92 13.33 28.14l21.89 18.77c1.38 1.19 2.12 2.55 2.12 3.84 0 3.12-4.45 6.62-10.41 6.62H160c-4.42 0-8 3.58-8 8v16c0 4.42 3.58 8 8 8h12.27c23.39 0 42.41-17.33 42.41-38.62 0-10.66-4.86-20.92-13.33-28.14l-21.9-18.77z"})],-1),z=[M],I=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512"},[t("path",{fill:"currentColor",d:"M352 320c-25.6 0-48.9 10-66.1 26.4l-98.3-61.5c5.9-18.8 5.9-39.1 0-57.8l98.3-61.5C303.1 182 326.4 192 352 192c53 0 96-43 96-96S405 0 352 0s-96 43-96 96c0 9.8 1.5 19.6 4.4 28.9l-98.3 61.5C144.9 170 121.6 160 96 160c-53 0-96 43-96 96s43 96 96 96c25.6 0 48.9-10 66.1-26.4l98.3 61.5c-2.9 9.4-4.4 19.1-4.4 28.9 0 53 43 96 96 96s96-43 96-96-43-96-96-96zm0-272c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zM96 304c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zm256 160c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48z"})],-1),K=[I],x={class:"card-body"},F={class:"flex split"},Q={class:"amount"},P={class:"number"},T=t("small",null,"stake",-1),q={class:"amount"},E={class:"number"},H=t("small",null,"stake",-1),R={key:0,class:"amount"},O={class:"number"},j=t("small",null,"stake",-1),G={class:"flex-center mt-15 mb-25"},J={class:"amount"},W={class:"number sunk color-orange"},X=t("small",null,"sunk",-1),Y={class:"flex split card-bottom"},Z={key:0,class:"amount"},tt={class:"number color-red small"},et={class:"number color-blue small mt-10"},st=t("small",null,"Extra",-1),ot={class:"number color-green mt-10"},lt=t("small",null,"after extra",-1),at={key:1,class:"amount"},it=t("span",{class:"or"},"or",-1);function nt(e,s,l,h,i,n){return d(),r("div",{class:c(["card",{threeway:l.play.stakeC}])},[t("div",{class:c([{show:e.copyConfirmation},"copy-confirmation flex"])},a(e.copyConfirmation),3),t("div",N,[t("button",{tabindex:"-1",onClick:s[0]||(s[0]=b=>e.copyToClipboard("csv")),class:"copy-to-clipboard"},z),t("button",{tabindex:"-1",onClick:s[1]||(s[1]=b=>e.copyToClipboard("shareLink")),class:"ml-10 copy-to-clipboard"},K)]),t("h2",null,a(n.roi.toFixed(2))+"%",1),t("div",x,[t("div",F,[t("div",Q,[t("label",null,a(l.labelA)+" ("+a(this.play.oddsA)+")",1),t("div",P,a(e.formatUSD(l.play.stakeA)),1),T]),t("div",q,[t("label",null,a(l.labelB)+" ("+a(this.play.oddsB)+")",1),t("div",E,a(e.formatUSD(l.play.stakeB)),1),H]),l.play.stakeC?(d(),r("div",R,[t("label",null,a(l.labelC)+" ("+a(this.play.oddsC)+")",1),t("div",O,a(e.formatUSD(l.play.stakeC)),1),j])):k("",!0)]),t("div",G,[t("div",J,[t("div",W,a(e.formatUSD(l.play.stakeA+l.play.stakeB+l.play.stakeC)),1),X])]),t("div",Y,[l.play.winback?(d(),r("div",Z,[t("div",tt,a(e.formatUSD(l.play.profitA-l.play.winback)),1),t("small",null,a(e.formatUSD(l.play.payoutA-l.play.winback))+" payout",1),t("div",et,"+"+a(e.formatUSD(l.play.winback)),1),st,t("div",ot,a(e.formatUSD(l.play.profitA)),1),lt])):(d(),r("div",at,[t("div",{class:c([{"color-green":l.play.profitA>0,"color-red":l.play.profitA<0},"number"])},a(e.formatUSD(l.play.profitA)),3),t("small",null,a(e.formatUSD(l.play.payoutA))+" payout",1)])),it,t("div",{class:c([{"mt-a":l.play.winback},"amount"])},[t("div",{class:c([{"color-green":l.play.profitB>0,"color-red":l.play.profitB<0},"number"])},a(e.formatUSD(l.play.profitB)),3),t("small",null,a(e.formatUSD(l.play.payoutB))+" payout",1)],2),l.play.stakeC?(d(),r("div",{key:2,class:c([{"mt-a":l.play.winback},"amount"])},[t("div",{class:c([{"color-green":l.play.profitC>0,"color-red":l.play.profitC<0},"number"])},a(e.formatUSD(l.play.profitC)),3),t("small",null,a(e.formatUSD(l.play.payoutC))+" payout",1)],2)):k("",!0)])])],2)}const dt=C($,[["render",nt]]),rt={name:"Arb",mixins:[A],components:{CardBalanced:dt,Navigation:S},data(){return{threeway:!1,viewingBookmark:!1,arbBalanced:!1,loading:!1,freshInput:!0,hasSearched:!1,bookmarks:[],noLossA:!1,noLossB:!1}},created(){this.bindShortcuts(),this.calcFromUrl()},computed:{csv(){const s=new Date().toLocaleDateString("en-US").split("/");return s.pop(),`${s.join("/")},${this.labelA},${this.oddsA},${this.arbBalanced.stakeA},${this.arbBalanced.payoutA},${this.labelB},${this.oddsB},${this.arbBalanced.stakeB},${this.arbBalanced.payoutB},${this.arbBalanced.profitA},${this.arbBalanced.profitB}`}},methods:{bindShortcuts(){document.addEventListener("keydown",e=>{this.editingLabel||(e=e||window.event,e.keyCode===83&&this.bookmarkPlay())})},calculate(){if(!this.freshInput||!this.oddsA||!this.stakeA||!this.oddsB)return;this.loading=!0,this.freshInput=!1;let e=0,s=Number(this.getPayout(this.oddsA,this.stakeA));this.winback&&(s+=Number(this.winbackAmount));let l=this.getStake(this.oddsB,s);l=this.round?Math.round(l):l,this.threeway&&(e=this.getStake(this.oddsC,s),e=this.round?Math.round(e):e);const h=Number(this.getPayout(this.oddsB,l)),i=this.threeway?Number(this.getPayout(this.oddsC,e)):0,n=Number(this.stakeA)+Number(l)+Number(e),b=h-n,y=s-n,o=i-n;this.arbBalanced={stakeA:Number(this.stakeA),stakeB:l,stakeC:e,oddsA:this.oddsA,oddsB:this.oddsB,oddsC:this.oddsC,payoutA:s,payoutB:h,payoutC:i,profitA:y,profitB:b,profitC:o,ev:(y+b)/2,winback:this.winback?this.winbackAmount:!1},this.loading=!1,this.hasSearched=!0,p.find(this.bookmarks,{id:`${this.oddsA}${this.oddsB}`})?this.viewingBookmark=!0:this.viewingBookmark=!1},calcFromUrl(){const e=this.getQueryString("oddsa"),s=this.getQueryString("stakea"),l=this.getQueryString("oddsb"),h=this.getQueryString("oddsc"),i=this.getQueryString("booka"),n=this.getQueryString("bookb"),b=this.getQueryString("bookc"),y=this.getQueryString("wb");this.oddsA=e,this.stakeA=s,this.oddsB=l,h&&(this.threeway=!0,this.oddsC=h),i&&(this.labelA=decodeURIComponent(i)),n&&(this.labelB=decodeURIComponent(n)),b&&(this.labelC=decodeURIComponent(b)),y&&(this.winback=!0,this.winbackAmount=decodeURIComponent(y)),this.calculate()},bookmarkPlay(){if(!this.hasSearched)return;if(this.viewingBookmark){p.remove(this.bookmarks,s=>s.id==`${this.oddsA}${this.oddsB}`),this.viewingBookmark=!1;return}const e=p.clone(this.arbBalanced);e.id=`${this.oddsA}${this.oddsB}`,e.labelA=this.labelA,e.labelB=this.labelB,this.bookmarks.push(e),this.resetState()},loadBookmark(e){this.oddsA=e.oddsA,this.stakeA=e.stakeA,this.oddsB=e.oddsB,this.labelA=e.labelA,this.labelB=e.labelB,this.freshInput=!0}},watch:{round(){this.freshInput=!0,this.calculate()},threeway(){this.freshInput=!0}}},ut={class:"page legacy arb"},ct=["value"],ht=["value"],bt={key:0,class:"bookmarks"},mt=["onClick"],kt={class:"games"},yt=t("br",null,null,-1),ft={class:"settings"},vt=t("label",{for:"",style:{display:"block"}},"Rounding",-1),pt={class:"toggle toggle-round"},gt=t("label",{for:"round"},null,-1),Bt=t("div",{class:"knob"},null,-1),wt=t("label",{for:"",style:{display:"block"}},"Three-way",-1),At={class:"toggle toggle-round"},Ct=t("label",{for:"threeway"},null,-1),_t=t("div",{class:"knob"},null,-1),St=t("label",{for:"",style:{display:"block"}}," Extra ",-1),Ut={class:"toggle toggle-round"},Vt=t("label",{for:"winback"},null,-1),Dt=t("div",{class:"knob"},null,-1),Lt={class:"book"},$t={class:"field-wrap flex-center"},Nt={class:"field"},Mt=t("label",{for:"",class:"color-arb"},"Max stake",-1),zt={class:"field"},It=t("label",{for:""},"Odds",-1),Kt={key:0,class:"field"},xt=t("label",{for:""},"Extra",-1),Ft={class:"book"},Qt={class:"field-wrap flex-center"},Pt={class:"field"},Tt=t("label",{for:""},"Odds",-1),qt={key:1,class:"book"},Et={class:"field-wrap flex-center"},Ht={class:"field"},Rt=t("label",{for:""},"Odds",-1),Ot={class:"flex-center button-wrap"},jt=t("button",{class:"btn btn-calculate",type:"submit",tabindex:"6",name:"button"},"Calculate hedge",-1),Gt=t("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 384 512",fill:"currentColor"},[t("path",{d:"M0 512V48C0 21.49 21.49 0 48 0h288c26.51 0 48 21.49 48 48v464L192 400 0 512z"})],-1),Jt=[Gt],Wt={key:0,class:"loading flex-center"},Xt=t("div",{class:"spinner"},null,-1),Yt=[Xt],Zt={class:"card-section alt"},te={key:0,class:"card-wrap"};function ee(e,s,l,h,i,n){const b=g("Navigation"),y=g("CardBalanced");return d(),r("div",ut,[f(b),t("input",{id:"shareLink",class:"copy-input",type:"text",value:e.shareLink},null,8,ct),t("input",{id:"csv",class:"copy-input",type:"text",value:n.csv},null,8,ht),t("form",{onSubmit:s[23]||(s[23]=B((...o)=>n.calculate&&n.calculate(...o),["prevent"])),class:c({threeway:i.threeway})},[i.bookmarks.length?(d(),r("div",bt,[(d(!0),r(U,null,V(i.bookmarks,(o,_)=>(d(),r("div",{class:"bookmark flex-stretch",key:_,onClick:se=>n.loadBookmark(o)},[t("div",{class:c([{"color-green":o.ev>0,"color-red":o.ev<0},"ev flex-center"])},a(e.formatUSD(o.ev)),3),t("div",kt,[w(a(o.labelA)+" ",1),t("strong",null,a(o.oddsA),1),yt,w(" "+a(o.labelB)+" ",1),t("strong",null,a(o.oddsB),1)])],8,mt))),128))])):k("",!0),t("div",ft,[t("div",null,[vt,t("div",pt,[u(t("input",{id:"round","onUpdate:modelValue":s[0]||(s[0]=o=>e.round=o),type:"checkbox",value:"true",tabindex:"-1"},null,512),[[v,e.round]]),gt,Bt])]),t("div",null,[wt,t("div",At,[u(t("input",{id:"threeway","onUpdate:modelValue":s[1]||(s[1]=o=>i.threeway=o),type:"checkbox",value:"false",tabindex:"-1"},null,512),[[v,i.threeway]]),Ct,_t])]),t("div",null,[St,t("div",Ut,[u(t("input",{id:"winback","onUpdate:modelValue":s[2]||(s[2]=o=>e.winback=o),type:"checkbox",value:"true",tabindex:"-1"},null,512),[[v,e.winback]]),Vt,Dt])])]),t("div",Lt,[u(t("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=o=>e.labelA=o),class:"label-input",tabindex:"1",onFocus:s[4]||(s[4]=o=>e.editingLabel=!0),onBlur:s[5]||(s[5]=o=>e.editingLabel=!1)},null,544),[[m,e.labelA]]),t("div",$t,[t("div",Nt,[Mt,u(t("input",{type:"text","onUpdate:modelValue":s[6]||(s[6]=o=>e.stakeA=o),required:"",tabindex:"3",onKeyup:s[7]||(s[7]=o=>e.onKeyUp("xa"))},null,544),[[m,e.stakeA]])]),t("div",zt,[It,u(t("input",{type:"text","onUpdate:modelValue":s[8]||(s[8]=o=>e.oddsA=o),required:"",tabindex:"4",onKeyup:s[9]||(s[9]=o=>e.onKeyUp("oa"))},null,544),[[m,e.oddsA]])]),e.winback?(d(),r("div",Kt,[xt,u(t("input",{type:"text","onUpdate:modelValue":s[10]||(s[10]=o=>e.winbackAmount=o),required:"",tabindex:"4",onKeyup:s[11]||(s[11]=o=>e.onKeyUp("wb"))},null,544),[[m,e.winbackAmount]])])):k("",!0)])]),t("div",Ft,[u(t("input",{type:"text","onUpdate:modelValue":s[12]||(s[12]=o=>e.labelB=o),class:"label-input",tabindex:"2",onFocus:s[13]||(s[13]=o=>e.editingLabel=!0),onBlur:s[14]||(s[14]=o=>e.editingLabel=!1)},null,544),[[m,e.labelB]]),t("div",Qt,[t("div",Pt,[Tt,u(t("input",{type:"text","onUpdate:modelValue":s[15]||(s[15]=o=>e.oddsB=o),required:"",tabindex:"5",onKeyup:s[16]||(s[16]=o=>e.onKeyUp("ob"))},null,544),[[m,e.oddsB]])])])]),i.threeway?(d(),r("div",qt,[u(t("input",{type:"text","onUpdate:modelValue":s[17]||(s[17]=o=>e.labelC=o),class:"label-input",tabindex:"2",onFocus:s[18]||(s[18]=o=>e.editingLabel=!0),onBlur:s[19]||(s[19]=o=>e.editingLabel=!1)},null,544),[[m,e.labelC]]),t("div",Et,[t("div",Ht,[Rt,u(t("input",{type:"text","onUpdate:modelValue":s[20]||(s[20]=o=>e.oddsC=o),required:"",tabindex:"6",onKeyup:s[21]||(s[21]=o=>e.onKeyUp("oc"))},null,544),[[m,e.oddsC]])])])])):k("",!0),t("div",Ot,[t("div",null,[jt,i.arbBalanced&&!i.loading?(d(),r("button",{key:0,class:c([{"viewing-bookmark":i.viewingBookmark},"save-play btn-util"]),tabindex:"-1",onClick:s[22]||(s[22]=B((...o)=>n.bookmarkPlay&&n.bookmarkPlay(...o),["prevent"]))},Jt,2)):k("",!0)])])],34),i.loading?(d(),r("section",Wt,Yt)):k("",!0),t("section",Zt,[f(L,{name:"fade"},{default:D(()=>[i.arbBalanced&&!i.loading?(d(),r("div",te,[f(y,{labelA:e.labelA,labelB:e.labelB,labelC:e.labelC,play:i.arbBalanced},null,8,["labelA","labelB","labelC","play"])])):k("",!0)]),_:1})])])}const ie=C(rt,[["render",ee]]);export{ie as default};
